<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>SmartIP-Editor: GroupsModel类 参考</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">SmartIP-Editor </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="pages.html"><span>相关页面</span></a></li>
      <li><a href="namespaces.html"><span>命名空间</span></a></li>
      <li class="current"><a href="annotated.html"><span>类</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>类列表</span></a></li>
      <li><a href="classes.html"><span>类索引</span></a></li>
      <li><a href="inherits.html"><span>类继承关系</span></a></li>
      <li><a href="functions.html"><span>类成员</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pro-methods">Protected 成员函数</a> &#124;
<a href="classGroupsModel-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">GroupsModel类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents the group hierarchy. This is basically a tree structure In this class, we consider that a groupItem is either a clip or a group.  
 <a href="classGroupsModel.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="groupsmodel_8hpp_source.html">groupsmodel.hpp</a>&gt;</code></p>
<div class="dynheader">
GroupsModel 的协作图:</div>
<div class="dyncontent">
<div class="center"><img src="classGroupsModel__coll__graph.png" border="0" usemap="#GroupsModel_coll__map" alt="Collaboration graph"/></div>
<map name="GroupsModel_coll__map" id="GroupsModel_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:ab9c4b1ea189c8a88446adad71ea64581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ab9c4b1ea189c8a88446adad71ea64581">GroupsModel</a> ()=delete</td></tr>
<tr class="separator:ab9c4b1ea189c8a88446adad71ea64581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fed6066878a565fe1b60caf0f6c2276"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a2fed6066878a565fe1b60caf0f6c2276">GroupsModel</a> (std::weak_ptr&lt; <a class="el" href="classTimelineItemModel.html">TimelineItemModel</a> &gt; parent)</td></tr>
<tr class="separator:a2fed6066878a565fe1b60caf0f6c2276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f54289142bb8dc7bc73480e70d4b613"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a7f54289142bb8dc7bc73480e70d4b613">groupItems</a> (const std::unordered_set&lt; int &gt; &amp;ids, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type=<a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a>, bool force=false)</td></tr>
<tr class="memdesc:a7f54289142bb8dc7bc73480e70d4b613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a group that contains all the given items and returns the id of the created group. Note that if an item is already part of a group, its topmost group will be considered instead and added in the newly created group. If only one id is provided, no group is created, unless force = true.  <a href="#a7f54289142bb8dc7bc73480e70d4b613">更多...</a><br /></td></tr>
<tr class="separator:a7f54289142bb8dc7bc73480e70d4b613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339c01cabdabe3b118ecdea6b4a59eb1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a339c01cabdabe3b118ecdea6b4a59eb1">ungroupItem</a> (int id, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a339c01cabdabe3b118ecdea6b4a59eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the topmost group containing given element Note that if the element is not in a group, then it will not be touched. Return true on success.  <a href="#a339c01cabdabe3b118ecdea6b4a59eb1">更多...</a><br /></td></tr>
<tr class="separator:a339c01cabdabe3b118ecdea6b4a59eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a32ca4bb3af913ec58260f32fa117db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a3a32ca4bb3af913ec58260f32fa117db">createGroupItem</a> (int id)</td></tr>
<tr class="memdesc:a3a32ca4bb3af913ec58260f32fa117db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a groupItem in the hierarchy. Initially it is not part of a group.  <a href="#a3a32ca4bb3af913ec58260f32fa117db">更多...</a><br /></td></tr>
<tr class="separator:a3a32ca4bb3af913ec58260f32fa117db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa740a3ae8454749fec3a67915735a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#abfa740a3ae8454749fec3a67915735a7">destructGroupItem</a> (int id)</td></tr>
<tr class="memdesc:abfa740a3ae8454749fec3a67915735a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct a group item Note that this public function expects that the given id is an orphan element.  <a href="#abfa740a3ae8454749fec3a67915735a7">更多...</a><br /></td></tr>
<tr class="separator:abfa740a3ae8454749fec3a67915735a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8613f095fba3c1fa0054ef0bcac247"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a5b8613f095fba3c1fa0054ef0bcac247">mergeSingleGroups</a> (int id, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a5b8613f095fba3c1fa0054ef0bcac247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges group with only one child to parent Ex: . . / \ / \ . . becomes a b / \ a b.  <a href="#a5b8613f095fba3c1fa0054ef0bcac247">更多...</a><br /></td></tr>
<tr class="separator:a5b8613f095fba3c1fa0054ef0bcac247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a29a3af2cc748bac1cf08b3918f58c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a0a29a3af2cc748bac1cf08b3918f58c9">split</a> (int id, const std::function&lt; bool(int)&gt; &amp;criterion, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a0a29a3af2cc748bac1cf08b3918f58c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split the group tree according to a given criterion All the leaves satisfying the criterion are moved to the new tree, the other stay Both tree are subsequently simplified to avoid weird structure.  <a href="#a0a29a3af2cc748bac1cf08b3918f58c9">更多...</a><br /></td></tr>
<tr class="separator:a0a29a3af2cc748bac1cf08b3918f58c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d269bc812ad1dcda9b40e7a1d99a8d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a9d269bc812ad1dcda9b40e7a1d99a8d8">copyGroups</a> (std::unordered_map&lt; int, int &gt; &amp;mapping, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a9d269bc812ad1dcda9b40e7a1d99a8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a group hierarchy.  <a href="#a9d269bc812ad1dcda9b40e7a1d99a8d8">更多...</a><br /></td></tr>
<tr class="separator:a9d269bc812ad1dcda9b40e7a1d99a8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af930410e2ee1afeeef97b1898faf1302"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#af930410e2ee1afeeef97b1898faf1302">getRootId</a> (int id) const </td></tr>
<tr class="memdesc:af930410e2ee1afeeef97b1898faf1302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the overall father of a given groupItem If the element has no father, it is returned as is.  <a href="#af930410e2ee1afeeef97b1898faf1302">更多...</a><br /></td></tr>
<tr class="separator:af930410e2ee1afeeef97b1898faf1302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6856d2e96743b9a5498bcfb48a451e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#af6856d2e96743b9a5498bcfb48a451e6">isLeaf</a> (int id) const </td></tr>
<tr class="memdesc:af6856d2e96743b9a5498bcfb48a451e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the groupItem has no descendant.  <a href="#af6856d2e96743b9a5498bcfb48a451e6">更多...</a><br /></td></tr>
<tr class="separator:af6856d2e96743b9a5498bcfb48a451e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20142bbf7dc9ac0c91e2580f899cefdf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a20142bbf7dc9ac0c91e2580f899cefdf">isInGroup</a> (int id) const </td></tr>
<tr class="memdesc:a20142bbf7dc9ac0c91e2580f899cefdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the element is in a non-trivial group.  <a href="#a20142bbf7dc9ac0c91e2580f899cefdf">更多...</a><br /></td></tr>
<tr class="separator:a20142bbf7dc9ac0c91e2580f899cefdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56316d627f90a6ad36bbc074af553b97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a56316d627f90a6ad36bbc074af553b97">setInGroupOf</a> (int id, int targetId, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a56316d627f90a6ad36bbc074af553b97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move element id in the same group as targetId.  <a href="#a56316d627f90a6ad36bbc074af553b97">更多...</a><br /></td></tr>
<tr class="separator:a56316d627f90a6ad36bbc074af553b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dac46fa6c14d10a4c41d859dbc0075b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a0dac46fa6c14d10a4c41d859dbc0075b">createGroupAtSameLevel</a> (int id, std::unordered_set&lt; int &gt; to_add, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a0dac46fa6c14d10a4c41d859dbc0075b"><td class="mdescLeft">&#160;</td><td class="mdescRight">We replace the leaf node given by id with a group that contains the leaf plus all the clips in to_add. The created group type is given in parameter Returns true on success.  <a href="#a0dac46fa6c14d10a4c41d859dbc0075b">更多...</a><br /></td></tr>
<tr class="separator:a0dac46fa6c14d10a4c41d859dbc0075b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75f182a27910b26ad3a6311e1084551"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ad75f182a27910b26ad3a6311e1084551">getSubtree</a> (int id) const </td></tr>
<tr class="memdesc:ad75f182a27910b26ad3a6311e1084551"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of all the descendant of given item (including item)  <a href="#ad75f182a27910b26ad3a6311e1084551">更多...</a><br /></td></tr>
<tr class="separator:ad75f182a27910b26ad3a6311e1084551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade034396e82778d31cf38688c9e65f90"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ade034396e82778d31cf38688c9e65f90">getLeaves</a> (int id) const </td></tr>
<tr class="memdesc:ade034396e82778d31cf38688c9e65f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of all the leaves in the subtree of the given item This should correspond to the ids of the clips, since they should be the only items with no descendants.  <a href="#ade034396e82778d31cf38688c9e65f90">更多...</a><br /></td></tr>
<tr class="separator:ade034396e82778d31cf38688c9e65f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91abe275e9b84ca3a7bc68945000f27"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ad91abe275e9b84ca3a7bc68945000f27">getDirectChildren</a> (int id) const </td></tr>
<tr class="memdesc:ad91abe275e9b84ca3a7bc68945000f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets direct children of a given group item.  <a href="#ad91abe275e9b84ca3a7bc68945000f27">更多...</a><br /></td></tr>
<tr class="separator:ad91abe275e9b84ca3a7bc68945000f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8b6b20cf44d58a9444b93f7cc952b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a5f8b6b20cf44d58a9444b93f7cc952b2">getDirectAncestor</a> (int id) const </td></tr>
<tr class="memdesc:a5f8b6b20cf44d58a9444b93f7cc952b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets direct ancestor of a given group item. Returns -1 if not in a group.  <a href="#a5f8b6b20cf44d58a9444b93f7cc952b2">更多...</a><br /></td></tr>
<tr class="separator:a5f8b6b20cf44d58a9444b93f7cc952b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f97c053acf654266b257e0b7e9fb19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a02f97c053acf654266b257e0b7e9fb19">getType</a> (int id) const </td></tr>
<tr class="memdesc:a02f97c053acf654266b257e0b7e9fb19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the type of the group.  <a href="#a02f97c053acf654266b257e0b7e9fb19">更多...</a><br /></td></tr>
<tr class="separator:a02f97c053acf654266b257e0b7e9fb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada54f2600c561d11ab3520c310bc289"><td class="memItemLeft" align="right" valign="top">const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aada54f2600c561d11ab3520c310bc289">toJson</a> () const </td></tr>
<tr class="memdesc:aada54f2600c561d11ab3520c310bc289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the group hierarchy to json. Note that we cannot expect clipId nor groupId to be the same on project reopening, thus we cannot rely on them for saving. To workaround that, we currently identify clips by their position + track.  <a href="#aada54f2600c561d11ab3520c310bc289">更多...</a><br /></td></tr>
<tr class="separator:aada54f2600c561d11ab3520c310bc289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d48752376972d3da977877c779d1b9"><td class="memItemLeft" align="right" valign="top">const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a31d48752376972d3da977877c779d1b9">toJson</a> (std::unordered_set&lt; int &gt; roots) const </td></tr>
<tr class="separator:a31d48752376972d3da977877c779d1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fead8dbfca77e9a63d9ea173673ccf3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a0fead8dbfca77e9a63d9ea173673ccf3">fromJson</a> (const QString &amp;data)</td></tr>
<tr class="separator:a0fead8dbfca77e9a63d9ea173673ccf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4163231b667275e64f650ea7d21e7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aec4163231b667275e64f650ea7d21e7c">fromJsonWithOffset</a> (const QString &amp;data, const QMap&lt; int, int &gt; &amp;trackMap, int offset, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="separator:aec4163231b667275e64f650ea7d21e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb01ce272695be8cc9c03d3810d604a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#abb01ce272695be8cc9c03d3810d604a9">getSplitPartner</a> (int id) const </td></tr>
<tr class="memdesc:abb01ce272695be8cc9c03d3810d604a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">if the clip belongs to a AVSplit group, then return the id of the other corresponding clip. Otherwise, returns -1  <a href="#abb01ce272695be8cc9c03d3810d604a9">更多...</a><br /></td></tr>
<tr class="separator:abb01ce272695be8cc9c03d3810d604a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150405741438b72b890b7540977836c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a150405741438b72b890b7540977836c0">checkConsistency</a> (bool failOnSingleGroups=true, bool checkTimelineConsistency=false)</td></tr>
<tr class="memdesc:a150405741438b72b890b7540977836c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the internal consistency of the model. Returns false if something is wrong.  <a href="#a150405741438b72b890b7540977836c0">更多...</a><br /></td></tr>
<tr class="separator:a150405741438b72b890b7540977836c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected 成员函数</h2></td></tr>
<tr class="memitem:a387a108a8576bf8ed1fd70df6ebcb69e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a387a108a8576bf8ed1fd70df6ebcb69e">groupItems_lambda</a> (int gid, const std::unordered_set&lt; int &gt; &amp;ids, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type=<a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a>, int parent=-1)</td></tr>
<tr class="separator:a387a108a8576bf8ed1fd70df6ebcb69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790aee3f38b1ddcacef91178e5d64c43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a790aee3f38b1ddcacef91178e5d64c43">destructGroupItem</a> (int id, bool deleteOrphan, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a790aee3f38b1ddcacef91178e5d64c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct a groupItem in the hierarchy. All its children will become their own roots Return true on success.  <a href="#a790aee3f38b1ddcacef91178e5d64c43">更多...</a><br /></td></tr>
<tr class="separator:a790aee3f38b1ddcacef91178e5d64c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced2639c06fd494a9398f830437a3919"><td class="memItemLeft" align="right" valign="top"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aced2639c06fd494a9398f830437a3919">destructGroupItem_lambda</a> (int id)</td></tr>
<tr class="separator:aced2639c06fd494a9398f830437a3919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa417ec5a503d6334449d2ec1f4f94d38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aa417ec5a503d6334449d2ec1f4f94d38">setGroup</a> (int id, int groupId, bool changeState=true)</td></tr>
<tr class="memdesc:aa417ec5a503d6334449d2ec1f4f94d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">change the group of a given item  <a href="#aa417ec5a503d6334449d2ec1f4f94d38">更多...</a><br /></td></tr>
<tr class="separator:aa417ec5a503d6334449d2ec1f4f94d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2e7103ce2af9052d07cd5c75597811"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#adb2e7103ce2af9052d07cd5c75597811">removeFromGroup</a> (int id)</td></tr>
<tr class="memdesc:adb2e7103ce2af9052d07cd5c75597811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an item from all the groups it belongs to.  <a href="#adb2e7103ce2af9052d07cd5c75597811">更多...</a><br /></td></tr>
<tr class="separator:adb2e7103ce2af9052d07cd5c75597811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6638e5e62dbe049ef285bb3f00d6ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#abb6638e5e62dbe049ef285bb3f00d6ce">processCopy</a> (int gid, std::unordered_map&lt; int, int &gt; &amp;mapping, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:abb6638e5e62dbe049ef285bb3f00d6ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the actual recursive implementation of the copy function.  <a href="#abb6638e5e62dbe049ef285bb3f00d6ce">更多...</a><br /></td></tr>
<tr class="separator:abb6638e5e62dbe049ef285bb3f00d6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06aaac4ff437cbe069f9638630ef4575"><td class="memItemLeft" align="right" valign="top">QJsonObject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a06aaac4ff437cbe069f9638630ef4575">toJson</a> (int gid) const </td></tr>
<tr class="memdesc:a06aaac4ff437cbe069f9638630ef4575"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the actual recursive implementation of the conversion to json.  <a href="#a06aaac4ff437cbe069f9638630ef4575">更多...</a><br /></td></tr>
<tr class="separator:a06aaac4ff437cbe069f9638630ef4575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d994dc2ebc1b53107871c5a79720188"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a5d994dc2ebc1b53107871c5a79720188">fromJson</a> (const QJsonObject &amp;o, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a5d994dc2ebc1b53107871c5a79720188"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the actual recursive implementation of the parsing from json Returns the id of the created group.  <a href="#a5d994dc2ebc1b53107871c5a79720188">更多...</a><br /></td></tr>
<tr class="separator:a5d994dc2ebc1b53107871c5a79720188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7571172c6827fa8356c395a9c5d3299a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a7571172c6827fa8356c395a9c5d3299a">promoteToGroup</a> (int gid, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type)</td></tr>
<tr class="memdesc:a7571172c6827fa8356c395a9c5d3299a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTransform.html">Transform</a> a leaf node into a group node of given type. This implies doing the registration to the timeline.  <a href="#a7571172c6827fa8356c395a9c5d3299a">更多...</a><br /></td></tr>
<tr class="separator:a7571172c6827fa8356c395a9c5d3299a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03030d79eaa915be4f191bd12e04112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ab03030d79eaa915be4f191bd12e04112">downgradeToLeaf</a> (int gid)</td></tr>
<tr class="memdesc:ab03030d79eaa915be4f191bd12e04112"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTransform.html">Transform</a> a group node with no children into a leaf. This implies doing the deregistration to the timeline.  <a href="#ab03030d79eaa915be4f191bd12e04112">更多...</a><br /></td></tr>
<tr class="separator:ab03030d79eaa915be4f191bd12e04112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25673b85d68f1d8c35cdb904f48c263c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a25673b85d68f1d8c35cdb904f48c263c">setType</a> (int gid, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type)</td></tr>
<tr class="memdesc:a25673b85d68f1d8c35cdb904f48c263c"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper function to change the type of a group.  <a href="#a25673b85d68f1d8c35cdb904f48c263c">更多...</a><br /></td></tr>
<tr class="separator:a25673b85d68f1d8c35cdb904f48c263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb809f6bfffa8b0fe6d9ab663c08b121"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#adb809f6bfffa8b0fe6d9ab663c08b121">adjustOffset</a> (QJsonArray &amp;updatedNodes, QJsonObject childObject, int offset, const QMap&lt; int, int &gt; &amp;trackMap)</td></tr>
<tr class="separator:adb809f6bfffa8b0fe6d9ab663c08b121"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>This class represents the group hierarchy. This is basically a tree structure In this class, we consider that a groupItem is either a clip or a group. </p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a class="anchor" id="ab9c4b1ea189c8a88446adad71ea64581"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GroupsModel::GroupsModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fed6066878a565fe1b60caf0f6c2276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GroupsModel::GroupsModel </td>
          <td>(</td>
          <td class="paramtype">std::weak_ptr&lt; <a class="el" href="classTimelineItemModel.html">TimelineItemModel</a> &gt;&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a class="anchor" id="adb809f6bfffa8b0fe6d9ab663c08b121"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::adjustOffset </td>
          <td>(</td>
          <td class="paramtype">QJsonArray &amp;&#160;</td>
          <td class="paramname"><em>updatedNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QJsonObject&#160;</td>
          <td class="paramname"><em>childObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QMap&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>trackMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a150405741438b72b890b7540977836c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::checkConsistency </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>failOnSingleGroups</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkTimelineConsistency</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the internal consistency of the model. Returns false if something is wrong. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">failOnSingleGroups</td><td>if true, we make sure that a non-leaf node has at least two children </td></tr>
    <tr><td class="paramname">checkTimelineConsistency</td><td>if true, we make sure that the group data of the parent timeline are consistent </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d269bc812ad1dcda9b40e7a1d99a8d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::copyGroups </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a group hierarchy. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapping</td><td>describes the correspondence between the ids of the items in the source group hierarchy, and their counterpart in the hierarchy that we create. It will also be used as a return parameter, by adding the mapping between the groups of the hierarchy Note that if the target items should not belong to a group. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0dac46fa6c14d10a4c41d859dbc0075b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::createGroupAtSameLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_set&lt; int &gt;&#160;</td>
          <td class="paramname"><em>to_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We replace the leaf node given by id with a group that contains the leaf plus all the clips in to_add. The created group type is given in parameter Returns true on success. </p>

</div>
</div>
<a class="anchor" id="a3a32ca4bb3af913ec58260f32fa117db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::createGroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a groupItem in the hierarchy. Initially it is not part of a group. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abfa740a3ae8454749fec3a67915735a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::destructGroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruct a group item Note that this public function expects that the given id is an orphan element. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a790aee3f38b1ddcacef91178e5d64c43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::destructGroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deleteOrphan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destruct a groupItem in the hierarchy. All its children will become their own roots Return true on success. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupitem </td></tr>
    <tr><td class="paramname">deleteOrphan</td><td>If this parameter is true, we recursively delete any group that become empty following the destruction </td></tr>
    <tr><td class="paramname">undo</td><td>Lambda function containing the current undo stack. Will be updated with current operation </td></tr>
    <tr><td class="paramname">redo</td><td>Lambda function containing the current redo queue. Will be updated with current operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aced2639c06fd494a9398f830437a3919"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> GroupsModel::destructGroupItem_lambda </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab03030d79eaa915be4f191bd12e04112"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::downgradeToLeaf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classTransform.html">Transform</a> a group node with no children into a leaf. This implies doing the deregistration to the timeline. </p>

</div>
</div>
<a class="anchor" id="a0fead8dbfca77e9a63d9ea173673ccf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::fromJson </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d994dc2ebc1b53107871c5a79720188"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::fromJson </td>
          <td>(</td>
          <td class="paramtype">const QJsonObject &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the actual recursive implementation of the parsing from json Returns the id of the created group. </p>

</div>
</div>
<a class="anchor" id="aec4163231b667275e64f650ea7d21e7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::fromJsonWithOffset </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QMap&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>trackMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5f8b6b20cf44d58a9444b93f7cc952b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::getDirectAncestor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets direct ancestor of a given group item. Returns -1 if not in a group. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad91abe275e9b84ca3a7bc68945000f27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; int &gt; GroupsModel::getDirectChildren </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets direct children of a given group item. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ade034396e82778d31cf38688c9e65f90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; int &gt; GroupsModel::getLeaves </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of all the leaves in the subtree of the given item This should correspond to the ids of the clips, since they should be the only items with no descendants. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af930410e2ee1afeeef97b1898faf1302"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::getRootId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the overall father of a given groupItem If the element has no father, it is returned as is. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupitem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb01ce272695be8cc9c03d3810d604a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::getSplitPartner </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>if the clip belongs to a AVSplit group, then return the id of the other corresponding clip. Otherwise, returns -1 </p>

</div>
</div>
<a class="anchor" id="ad75f182a27910b26ad3a6311e1084551"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; int &gt; GroupsModel::getSubtree </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of all the descendant of given item (including item) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a02f97c053acf654266b257e0b7e9fb19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> GroupsModel::getType </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the type of the group. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem. Must be a proper group, not a leaf </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f54289142bb8dc7bc73480e70d4b613"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::groupItems </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_set&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a group that contains all the given items and returns the id of the created group. Note that if an item is already part of a group, its topmost group will be considered instead and added in the newly created group. If only one id is provided, no group is created, unless force = true. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ids</td><td>set containing the items to group. </td></tr>
    <tr><td class="paramname">undo</td><td>Lambda function containing the current undo stack. Will be updated with current operation </td></tr>
    <tr><td class="paramname">redo</td><td>Lambda function containing the current redo queue. Will be updated with current operation </td></tr>
    <tr><td class="paramname">type</td><td>indicates the type of group we create Returns the id of the new group, or -1 on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a387a108a8576bf8ed1fd70df6ebcb69e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> GroupsModel::groupItems_lambda </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a20142bbf7dc9ac0c91e2580f899cefdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::isInGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the element is in a non-trivial group. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af6856d2e96743b9a5498bcfb48a451e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::isLeaf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the groupItem has no descendant. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5b8613f095fba3c1fa0054ef0bcac247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::mergeSingleGroups </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merges group with only one child to parent Ex: . . / \ / \ . . becomes a b / \ a b. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the tree to consider </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb6638e5e62dbe049ef285bb3f00d6ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::processCopy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the actual recursive implementation of the copy function. </p>

</div>
</div>
<a class="anchor" id="a7571172c6827fa8356c395a9c5d3299a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::promoteToGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classTransform.html">Transform</a> a leaf node into a group node of given type. This implies doing the registration to the timeline. </p>

</div>
</div>
<a class="anchor" id="adb2e7103ce2af9052d07cd5c75597811"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::removeFromGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove an item from all the groups it belongs to. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa417ec5a503d6334449d2ec1f4f94d38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::setGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>changeState</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>change the group of a given item </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
    <tr><td class="paramname">groupId</td><td>id of the group to assign it to </td></tr>
    <tr><td class="paramname">changeState</td><td>when false, the grouped role for item won't be updated (for selection) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a56316d627f90a6ad36bbc074af553b97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::setInGroupOf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move element id in the same group as targetId. </p>

</div>
</div>
<a class="anchor" id="a25673b85d68f1d8c35cdb904f48c263c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::setType </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>helper function to change the type of a group. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
    <tr><td class="paramname">type</td><td>new type of the group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0a29a3af2cc748bac1cf08b3918f58c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(int)&gt; &amp;&#160;</td>
          <td class="paramname"><em>criterion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split the group tree according to a given criterion All the leaves satisfying the criterion are moved to the new tree, the other stay Both tree are subsequently simplified to avoid weird structure. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>is the root of the tree </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aada54f2600c561d11ab3520c310bc289"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString GroupsModel::toJson </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the group hierarchy to json. Note that we cannot expect clipId nor groupId to be the same on project reopening, thus we cannot rely on them for saving. To workaround that, we currently identify clips by their position + track. </p>

</div>
</div>
<a class="anchor" id="a31d48752376972d3da977877c779d1b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString GroupsModel::toJson </td>
          <td>(</td>
          <td class="paramtype">std::unordered_set&lt; int &gt;&#160;</td>
          <td class="paramname"><em>roots</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a06aaac4ff437cbe069f9638630ef4575"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QJsonObject GroupsModel::toJson </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the actual recursive implementation of the conversion to json. </p>

</div>
</div>
<a class="anchor" id="a339c01cabdabe3b118ecdea6b4a59eb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::ungroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the topmost group containing given element Note that if the element is not in a group, then it will not be touched. Return true on success. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupitem </td></tr>
    <tr><td class="paramname">undo</td><td>Lambda function containing the current undo stack. Will be updated with current operation </td></tr>
    <tr><td class="paramname">redo</td><td>Lambda function containing the current redo queue. Will be updated with current operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>src/timeline2/model/<a class="el" href="groupsmodel_8hpp_source.html">groupsmodel.hpp</a></li>
<li>src/timeline2/model/<a class="el" href="groupsmodel_8cpp.html">groupsmodel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
